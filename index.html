<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mattress Mule – Rhode Island</title>
<script src="https://js.stripe.com/v3/"></script>
<style>
    body,html{margin:0;padding:0;height:100%;font-family:system-ui,sans-serif;background:#2e7d32;color:white}
    .all{background:#2e7d32;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:40px 15px 20px}
    h1{font-size:2.4rem;margin:0 0 10px}
    .btn{background:#ff5722;color:white;font-size:28px;font-weight:bold;padding:22px;border:none;border-radius:18px;width:90%;max-width:380px;margin:30px auto;display:block}
    .form{max-width:380px;width:100%;background:white;color:#222;padding:30px 20px;border-radius:18px;margin:0 auto;box-sizing:border-box}
    input,select{width:100%;padding:16px;margin:12px 0;border-radius:12px;border:1px solid #ccc;font-size:18px;box-sizing:border-box}
    #price{font-size:36px;font-weight:bold;color:#2e7d32;margin:25px 0}
    footer{background:#111;padding:20px;font-size:16px;text-align:center}
</style>
</head>
<body>
<div class="all">
    <h1>Old Mattress Gone Today</h1>
    <p style="margin:20px 0 30px">Fast, responsible removal in Rhode Island — recycled at Central Landfill</p>
    <button class="btn" onclick="document.getElementById('form').scrollIntoView({behavior:'smooth'})">
        PICK UP MY MATTRESS TODAY
    </button>

    <div class="form" id="form">
        <form id="bookingForm" action="https://api.web3forms.com/submit" method="POST">
            <input type="hidden" name="access_key" value="45fdd153-a73c-4748-a881-e4a2d9d838e6">
            <input type="hidden" name="subject" value="New Mattress Mule Booking">
            <input type="hidden" name="from_name" value="Mattress Mule Booking">
            <input type="hidden" name="replyto" value="4013606801@vtext.com">

            <h2>Get Your Price & Book</h2>
            <input type="text" name="Name" placeholder="Your Name" required>
            <input type="tel" name="Phone" placeholder="Your Phone Number" required>
            <input type="text" name="Address" placeholder="Full Pickup Address (Street + City + ZIP)" required>

            <select name="Service" id="type" onchange="updatePrice()">
                <option value="price_1SZheB2LYhMSjDZ5gnI4wUJS">Curbside – 1 mattress – $119</option>
                <option value="price_1SZwZG2LYhMSjDZ5YoLQGtgS">Curbside – 2 mattresses – $198</option>
                <option value="price_1SZwau2LYhMSjDZ5ipolAuz8">Curbside – 3 mattresses – $277</option>

                <option value="price_1SZhfO2LYhMSjDZ56jEw0T0K">Inside – 1 mattress – $179</option>
                <option value="price_1SZwcD2LYhMSjDZ5E1nYKTLU">Inside – 2 mattresses – $258</option>
                <option value="price_1SZwdh2LYhMSjDZ5GXzT5vLQ">Inside – 3 mattresses – $337</option>

                <option value="price_1SZhg52LYhMSjDZ5cIKc0azX">Inside + Stairs/King – 1 mattress – $219</option>
                <option value="price_1SZwfl2LYhMSjDZ5uhv1p0aX">Inside + Stairs/King – 2 mattresses – $298</option>
                <option value="price_1SZwh62LYhMSjDZ5bONpFjEy">Inside + Stairs/King – 3 mattresses – $377</option>

                <option value="mailto:mattressmule@gmail.com?subject=Custom Quote">Custom Order – Email for Quote</option>
            </select>

            <input type="date" name="Date" id="date" required>

            <div id="price">$119 Total</div>

            <button type="button" class="btn" onclick="submitAndPay()">PAY & BOOK NOW</button>
        </form>
    </div>

    <footer>
        Call/Text: <strong>401-360-6801</strong> • Serving all Rhode Island • 90% recycled
    </footer>
</div>

<script>
    const stripe = Stripe('pk_live_51SZhEG2LYhMSjDZ5p1kPcuLriDkT5AndqTfMn93gvIi6aAy78QSd6h62LMrlho1wg3HHr6Sb1V6rgFdjkOsFbmf800MNbxD18H');

    const today = new Date().toISOString().split('T')[0];
    document.getElementById('date').value = today;
    document.getElementById('date').min = today;

    const priceText = [
        "$119 Total", "$198 Total", "$277 Total",
        "$179 Total", "$258 Total", "$337 Total",
        "$219 Total", "$298 Total", "$377 Total",
        "Contact us for pricing"
    ];

    function updatePrice() {
        const sel = document.getElementById('type').selectedIndex;
        document.getElementById('price').textContent = priceText[sel];
    }

    function submitAndPay() {
        document.getElementById('bookingForm').submit(); // Email + SMS

        const sel = document.getElementById('type').selectedIndex;
        if (sel < 9) {
            const priceIds = [
                'price_1SZheB2LYhMSjDZ5gnI4wUJS',
                'price_1SZwZG2LYhMSjDZ5YoLQGtgS',
                'price_1SZwau2LYhMSjDZ5ipolAuz8',
                'price_1SZhfO2LYhMSjDZ56jEw0T0K',
                'price_1SZwcD2LYhMSjDZ5E1nYKTLU',
                'price_1SZwdh2LYhMSjDZ5GXzT5vLQ',
                'price_1SZhg52LYhMSjDZ5cIKc0azX',
                'price_1SZwfl2LYhMSjDZ5uhv1p0aX',
                'price_1SZwh62LYhMSjDZ5bONpFjEy'
            ];
            stripe.redirectToCheckout({
                lineItems: [{ price: priceIds[sel], quantity: 1 }],
                mode: 'payment',
                successUrl: window.location.origin + '?success=true',
                cancelUrl: window.location.origin + '?cancel=true'
            });
        }
    }

    updatePrice();
</script>
</body>
</html>
